<!DOCTYPE html>
<html ng-app='inVidex'>
<head>
	<title>Inverted Index Client</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="../assets/css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/danialfarid-angular-file-upload/12.2.13/ng-file-upload-all.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/danialfarid-angular-file-upload/12.2.13/ng-file-upload-shim.min.js"></script>

	<script src="app.js"></script>
	<script src="./controllers/controllers.js"></script>
	<script src="./services/services.js"></script>

</head>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">inVidex</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="#">Home</a></li>
			<li><a href="#about-invidex" data-toggle="modal">About inVidex</a></i>
      <li><a href="#how-to-use" data-toggle="modal">Instructions</a></li>
    </ul>
  </div>
</nav>
<body>
<div class='container-fluid'>
	<div class="row" ng-controller="createIndex">
	<div class="col-md-8 col-md-offset-2" align="center">
		<h1 class="brand-name">inVidex</h1>
		<h4>{{creating}}</h4>
		<form class="upload-file" name="form">
			<h4>Upload a file</h4>
			 <input type="file" name="files" ngf-select ng-model="files" ngf-multiple="true"/>
			<br>
			<button type="submit" ng-click="createAnIndex()" class="btn btn-primary">Create index</button>
		</form>
	</div>
	</div>
	<div class="row">
		<div class="col-md-4">
		<div class="row" ng-controller="searchIndex">
			<div class="col-sm-8 col-sm-offset-2">
				<h3 align="center">Search Index</h3>
			</div>
		<h3>{{searching}}</h3>
				<form>
					<div class="col-sm-12">
					  <div class="form-group" align="center">
					    <select class="form-control" id="file" ng-model="searchFileName">
					      <option selected disabled hiden value"">Select a file</option>
					      <option>All</option>
					      <option ng-repeat="flieName in fileList">{{fileName}}</option>
					    </select>
					  </div>
					</div>
					<div class="col-sm-12">
						  <div class="input-group" align="center">
						  	 <input type="text" class="form-control" ng-model="searchTerms" name="terms" placeholder="Search for...">
						  	 <span class="input-group-btn">
						     	<button ng-click="searchIndex()" class="btn btn-primary">Search index</button>
						  	 </span>
						  </div>
					</div>
				</form>
		</div>
		</div>
		<div class="col-md-8" ng-controller='populateIndex'>
			<h2 align="center"><span class="glyphicon glyphicon-list"></span>    Index List</h2>
			<table class="table myTable" ng-repeat="fileName in fileList">
			<caption><h4><span class="label label-default">fileName</span></h4></caption>
			  <thead class="thead-inverse">
			    <tr>
			      <th>Word Tokens</th>
			      <th ng-repeat="(key, value) in indices[fileName].titles">{{value}}</th>
			    </tr>
			  </thead>
			  <tbody>
			  <div>
			  	<div>
				    <tr ng-repeat="(token, index) in indices[fileName].index" >

					      <th scope="row">{{token}}</th>
					      <div ng-repeat="(titleIndex, value) in indices[fileName].titles">
					      	<td class="{{isPresent(token, titleIndex).class}}" ><span class="{{isPresent(token, titleIndex).icon}}"></span></td>
					      </div>
				    </tr>
			    </div>
			    <tr> 
			      <th scope="row">Jacob</th>
			      <td class="present"><span class="glyphicon glyphicon-ok"></span></td>
			      <td class="absent"><span class="glyphicon glyphicon-remove"></span></td>
			    </tr>
			    <tr>
			      <th scope="row">Larry</th>
			      <td class="absent"><span class="glyphicon glyphicon-remove"></span></td>
			      <td class="present"><span class="glyphicon glyphicon-ok"></span></td>
			    </tr>
			  </tbody>
			</table>

		</div>
		<table>
			
		</table>
	</div>

	<!-- Modals for Instruction -->
	<div id="how-to-use" class="modal fade">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	                <h4 class="modal-title">Instructions</h4>
	            </div>
	            <div class="modal-body">
	                <h4 align="center">How to Use</h4>
	                <ol>
	                	<li>Create a file in a text editor and save it as type json</li>
	                	<li></li>
	                </ol>
	            </div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	            </div>
	        </div>
	    </div>
	</div>
	<!-- Modals for about inVidex-->
	<div id="about-invidex" class="modal fade">
	    <div class="modal-dialog">
	        <div class="modal-content">
	            <div class="modal-header">
	                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	                <h4 class="modal-title">About inVidex</h4>
	            </div>
	            <div class="modal-body">
	                <p>inVidex is an application that creates an inverted index of the content </p>
	            </div>
	            <div class="modal-footer">
	                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	            </div>
	        </div>
	    </div>
	</div>

</div>
</body>
</html>
